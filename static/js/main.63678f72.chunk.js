(this["webpackJsonpcarrito-de-compras"]=this["webpackJsonpcarrito-de-compras"]||[]).push([[0],{42:function(t,e,c){},43:function(t,e,c){"use strict";c.r(e);var n=c(2),r=c.n(n),a=c(16),s=c.n(a),i=c(4),o=c(3),u=c.n(o),d=c(5),j=c(17),l=c(7),b=c.n(l);b.a.defaults.baseURL="https://60c6708619aa1e001769f49c.mockapi.io/api/shopping-cart/";var p=b.a,m=function(){var t=Object(d.a)(u.a.mark((function t(){var e,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.get("list");case 2:return e=t.sent,c=e.data,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=c(0),x=function(){return Object(O.jsx)("div",{className:"separator"})},h=function(t){var e=t.product,c=t.deleteProduct,n=t.addAmount,r=t.rmAmount,a=e.id,s=e.image,i=e.name,o=e.amount,u=o*e.price;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"product",children:[Object(O.jsx)("img",{src:s,alt:i+" image",className:"product_img"}),Object(O.jsxs)("div",{className:"product_data",children:[Object(O.jsx)("p",{className:"product_data_name",children:i}),Object(O.jsxs)("div",{className:"product_data_amount",children:[Object(O.jsx)("p",{children:"Cantidad"}),Object(O.jsxs)("div",{className:"product_data_amount_btns",children:[Object(O.jsx)("button",{onClick:function(){r(a)},children:"-"}),Object(O.jsx)("p",{children:o}),Object(O.jsx)("button",{onClick:function(){n(a)},children:"+"})]})]})]}),Object(O.jsxs)("div",{className:"product_data_right ",children:[Object(O.jsxs)("p",{className:"product_data_price",children:["S/.",Object(O.jsx)("span",{id:"price",children:u.toFixed(2)})]}),Object(O.jsxs)("button",{className:"product_delete_btn",onClick:function(){c(a)},children:[Object(O.jsx)("img",{src:"vector/trash.png",alt:"X"}),Object(O.jsx)("p",{children:"Quitar producto"})]})]})]}),Object(O.jsx)(x,{})]})},f=function(){return Object(O.jsx)("div",{className:"spinner-layout",children:Object(O.jsx)("div",{className:"spinner"})})},v=function(t){var e=t.subtotal;return Object(O.jsxs)("div",{className:"product_bottom",children:[Object(O.jsx)("p",{children:"Subtotal:"})," ",Object(O.jsxs)("p",{children:["S/.",e?e.toFixed(2):0]})]})},_=function(t){var e=t.envioCost;return Object(O.jsxs)("div",{className:"product_bottom",children:[Object(O.jsx)("p",{children:"Envio:"})," ",Object(O.jsxs)("p",{children:["S/.",e.toFixed(2)]})]})},N=function(t){var e=t.subtotal+t.envioCost;return Object(O.jsxs)("div",{className:"product_bottom",children:[Object(O.jsx)("p",{children:"Total:"}),Object(O.jsxs)("p",{children:["S/.",e.toFixed(2)]})," "]})},g=function(){return Object(O.jsx)("button",{className:"product_btn_pagar",children:"Pagar"})},C=function(){var t=Object(n.useState)([]),e=Object(j.a)(t,2),c=e[0],r=e[1],a=c.length>0&&c.reduce((function(t,e){return t+e.price*e.amount}),0);Object(n.useEffect)((function(){s()}),[]);var s=function(){var t=Object(d.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:e=t.sent,r(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(t){r(c.filter((function(e){return e.id!==t})))},l=function(t){r(c.map((function(e){return e.id===t?Object(i.a)(Object(i.a)({},e),{},{amount:e.amount+=1}):e})))},b=function(t){r(c.map((function(e){return e.id===t&&e.amount>0?Object(i.a)(Object(i.a)({},e),{},{amount:e.amount-=1}):e})))};return Object(O.jsxs)("div",{className:"cart",children:[Object(O.jsx)("h1",{className:"cart_title",children:"Carrito de compras"}),Object(O.jsx)(x,{}),c.length>0?c.map((function(t,e){return Object(O.jsx)(h,{product:t,deleteProduct:o,addAmount:l,rmAmount:b},"".concat(e,"-product-").concat(t.id))})):Object(O.jsx)(f,{}),Object(O.jsx)(v,{subtotal:a}),Object(O.jsx)(_,{envioCost:40}),Object(O.jsx)(x,{}),Object(O.jsx)(N,{subtotal:a,envioCost:40}),Object(O.jsx)(g,{}),Object(O.jsx)("button",{onClick:function(){r([])},className:"product_clean_btn",children:"Limpiar carrito"})]})};var k=function(){return Object(O.jsx)("div",{className:"main",children:Object(O.jsx)(C,{})})};c(42);s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(k,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.63678f72.chunk.js.map